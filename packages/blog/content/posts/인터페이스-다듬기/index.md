---
title: "[ì˜¤ë¸Œì íŠ¸] ì¸í„°í˜ì´ìŠ¤ ë‹¤ë“¬ê¸°"
tags:
  - ìë°”
image: ./assets/banner.png
date: 2025-06-17 20:59:27
series: ì˜¤ë¸Œì íŠ¸ - ì„¤ê³„ ì›ì¹™í¸
draft: false
---

![ë°°ë„ˆ ì´ë¯¸ì§€](./assets/banner.png)

> í•´ë‹¹ ë¸”ë¡œê·¸ ê¸€ì€ [ì¡°ì˜í˜¸ë‹˜ì˜ ì¸í”„ëŸ° ê°•ì˜](https://inf.run/HXdiC)ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì“°ì—¬ì§„ ê¸€ì…ë‹ˆë‹¤.

## ë””ë¯¸í„° ë²•ì¹™ê³¼ ë¬»ì§€ ë§ê³  ì‹œì¼œë¼ ì›ì¹™

ìº¡ìŠí™”ë¥¼ ìœ„í•œ 2ê°€ì§€ ì„¤ê³„ ì›ì¹™ì´ ì¡´ì¬í•œë‹¤. ë°”ë¡œ **ë””ë¯¸í„° ë²•ì¹™**ê³¼ **ë¬»ì§€ ë§ê³  ì‹œì¼œë¼** ì›ì¹™ì´ ì¡´ì¬í•œë‹¤.

ë””ë¯¸í„° ë²•ì¹™ì´ë€, í˜‘ë ¥í•˜ëŠ” ê°ì²´ ë‚´ë¶€êµ¬ì¡°ë¥¼ ëª¨ë¥´ê³ ë„ í˜‘ë ¥ì´ ê°€ëŠ¥í•´ì•¼í•˜ëŠ” ë²•ì¹™ì„ ì˜ë¯¸í•œë‹¤. ì¦‰, ê²°í•©ë„ê°€ ë‚®ì•„ì ¸ì•¼ í•˜ë©° ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´ ë©”ì„¸ì§€ ì „ì†¡ì„ ì œí•œí•  í•„ìš”ê°€ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ aë¼ëŠ” ê°ì²´ê°€ bë¥¼ ì°¸ì¡°í•˜ê³  b ê°ì²´ê°€ cë¥¼ ì°¸ì¡°í•œë‹¤ê³  ìƒê°í•´ë³´ì.

![image1](./assets/01.png)

ì´ëŸ° ìƒí™©ì—ì„œ ì•„ë˜ì™€ ê°™ì´ aê°€ bì™€ cì—ê²Œ ë©”ì„¸ì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë‹¤ê³  í•´ë³´ì.

![image2](./assets/02.png)

ì´ëŸ° ìƒí™©ì— dë¼ëŠ” ê°ì²´ê°€ bì™€ c ì‚¬ì´ì— ìƒê²¼ë‹¤ê³  í•´ë³´ì.

![image3](./assets/03.png)

ì´ë ‡ê²Œ êµ¬ì¡°ê°€ ë³€ê²½ë˜ê³  ë©”ì„¸ì§€ ìì²´ê°€ ë§Œì•½ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ê±°ë¼ë©´ ì´ ë³€ê²½ ì—¬íŒŒëŠ” aì™€ bê¹Œì§€ë„ ì „ë¶€ ì „íŒŒê°€ ë  ê²ƒì´ë‹¤. ê·¸ë˜ì„œ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•˜ì—¬ ì˜ì¡´ì„±ì„ ì œê±°í•´ì•¼ í•œë‹¤. ì¦‰, aê°€ cë¡œ ë©”ì„¸ì§€ ì „ì†¡ì„ ëª»í•˜ê³  ì§ì ‘ ì°¸ì¡°í•˜ëŠ” ê°ì²´ì—ê²Œë§Œ ì „ì†¡í•´ì•¼ í•œë‹¤.

ì´ê²ƒì„ aëŠ” êµ¬ì¡° ë³€ê²½ì— ë…ë¦½ì ì´ë¯€ë¡œ êµ¬ì¡° ë³€ê²½ì— ìº¡ìŠí™”ë¥¼ í•˜ì˜€ë‹¤ë¼ê³  í‘œí˜„í•œë‹¤. ì´ê²ƒì´ ë°”ë¡œ ë””ë¯¸í„° ë²•ì¹™ì¸ë° ì´ê²ƒì„ ì‚¬ì „ì— ë‚˜ì˜¤ëŠ” í’€ì´ë¥¼ í™•ì¸í•´ë³´ì.

> ğŸ“š ë””ë¯¸í„° ë²•ì¹™
>
> ëª¨ë“  í´ë˜ìŠ¤ CëŠ” Cì— êµ¬í˜„ëœ ëª¨ë“  ë©”ì„œë“œ Mì— ëŒ€í•´ì„œ, Mì´ ë©”ì„¸ì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆëŠ” ê°ì²´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.
> - Mì˜ ì¸ìë¡œ ì „ë‹¬ëœ í´ë˜ìŠ¤(C ìì²´ë¥¼ í¬í•¨)
> - Cì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì˜ í´ë˜ìŠ¤
>
> (Mì— ì˜í•´ ìƒì„±ëœ ê°ì²´ë‚˜ Mì´ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œë‚˜ í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœ ê°ì²´, ì „ì—­ë³€ìˆ˜ë¡œ ì„ ì–¸ëœ ê°ì²´ëŠ” ëª¨ë‘ Mì˜ ì¸ìë¡œ ê°„ì£¼í•œë‹¤.)

í•˜ì§€ë§Œ ì„¤ëª…ì´ ë„ˆë¬´ ë”±ë”±í•´ì„œ ì´í•´í•˜ê¸° ì–´ë µë‹¤. ì´ê²ƒì„ ì‰½ê²Œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

> ğŸ“š ë””ë¯¸í„° ë²•ì¹™
>
> í´ë˜ìŠ¤ ë‚´ë¶€ì˜ ë©”ì„œë“œëŠ” ì•„ë˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì—ë§Œ ë©”ì„¸ì§€ë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤.
> - this ê°ì²´
> - ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜
> - thisì˜ ì†ì„±
> - thisì˜ ì†ì„±ì¸ ì»¬ë ‰ì…˜ ìš”ì†Œ
> - ë©”ì„œë“œ ë‚´ì—ì„œ ìƒì„±ëœ ì§€ì—­ ê°ì²´

ë””ë¯¸í„° ë²•ì¹™ì„ ë˜ ë‹¤ë¥¸ í‘œí˜„ìœ¼ë¡œ í•˜ìë©´ ì•„ë˜ì™€ ê°™ì´ í‘œí˜„í•  ìˆ˜ë„ ìˆìœ¼ë‹ˆ ì°¸ê³ ë§Œ í•˜ì.

- ë‚¯ì„ ìì—ê²Œ ë§í•˜ì§€ ë§ì•„ë¼
- ì˜¤ì§ ì¸ì ‘í•œ ì´ì›ƒì—ê²Œë§Œ ë§í•´ë¼
- ì˜¤ì§ í•˜ë‚˜ì˜ ë„íŠ¸ë§Œ ì‚¬ìš©í•˜ì

ê¸°ì¡´ `Game` í´ë˜ìŠ¤ì—ì„œëŠ” ì¸ì ‘í•œ ì´ì›ƒì´ ì•„ë‹Œ `WorldMap`, `Position`, `Room`ì— ì˜ì¡´í•˜ê³  ìˆë‹¤. ì™œëƒí•˜ë©´ `Game` ê°ì²´ ì•ˆì—ì„œ `Player`ì˜ ë‚´ë¶€ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì¸ `WorldMap`, `Position`, `Room`ì— ê´€í•´ ë¬¼ì–´ë³´ê¸° ë•Œë¬¸ì´ë‹¤. ì´ê²ƒì„ ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ? ë°”ë¡œ **ë¬»ì§€ ë§ê³  ì‹œì¼œë¼** ì›ì¹™ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

> ğŸ“š ë¬»ì§€ ë§ê³  ì‹œì¼œë¼ ë²•ì¹™
>
> ì—¬ëŸ¬ë¶„ì€ ê°ì²´ì—ê²Œ ì›í•˜ëŠ” ì‘ì—…ì„ ì´ì•¼ê¸°í•¨ìœ¼ë¡œì¨ ëª…ë ¹ì„ ì „ì†¡í•´ì•¼ í•œë‹¤. ìš°ë¦¬ëŠ” ê°ì²´ì˜ ìƒíƒœë¥¼ ë¬»ê³  ê²°ì •ì„ ë‚´ë¦° í›„, ê°ì²´ì—ê²Œ ë¬´ì—‡ì„ ìˆ˜í–‰í•  ì§€ ì§€ì‹œí•˜ëŠ” ë°©ì‹ì„ ì„ í˜¸í•˜ì§€ ì•ŠëŠ”ë‹¤. í˜¸ì¶œìëŠ” í˜¸ì¶œëœ ê°ì²´ì˜ ìƒíƒœë¥¼ ë°”íƒ•ìœ¼ë¡œ ê²°ì •ì„ ë‚´ë¦° í›„ì— í•´ë‹¹ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•´ì„œëŠ” ì•ˆëœë‹¤. êµ¬í˜„í•˜ê³  ìˆëŠ” ë…¼ë¦¬ëŠ” ì•„ë§ˆë„ í˜¸ì¶œëœ ê°ì²´ì˜ ì±…ì„ì´ì§€, í˜¸ì¶œí•˜ëŠ” ìª½ì˜ ì±…ì„ì€ ì•„ë‹ˆë‹¤. ê°ì²´ ì™¸ë¶€ì—ì„œ ê²°ì •ì„ ë‚´ë¦¬ëŠ” ê²ƒì€ ê°ì²´ì˜ ìº¡ìŠí™”ë¥¼ ìœ„ë°˜í•˜ëŠ” ê²ƒì´ë©° ë²„ê·¸ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš´ í™˜ê²½ì„ ì¡°ì„±í•œë‹¤.

ì¦‰ ì±…ì„ì˜ ì´ë™ì„ í†µí•˜ì—¬ ì´ì „ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ì¦‰, ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§ í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

``` java
package me.sungbin.adventure;

public class Player {

    private WorldMap worldMap;

    private Position position;

    public Player(WorldMap worldMap, Position position) {
        this.worldMap = worldMap;
        this.position = position;
    }

    public boolean move(Direction direction) {
        if (worldMap.isBlocked(position.shift(direction))) {
            return false;
        }

        this.position = this.position.shift(direction);
        return true;
    }

    Position position() {
        return position;
    }

    public Room currentRoom() {
        return worldMap.roomAt(position);
    }
}
```

``` java
package me.sungbin.adventure;

import java.util.Scanner;

public class Game {

    private Player player;
    private CommandParser commandParser;
    private boolean running;

    public Game() {
        this.player = new Player(
                new WorldMap(
                        Size.with(2, 3),
                        new Room(Position.of(0, 0), "ìƒ˜", "ì•„ë¦„ë‹¤ìš´ ìƒ˜ë¬¼ì´ íë¥´ëŠ” ê³³ì…ë‹ˆë‹¤. ì´ê³³ì—ì„œ íœ´ì‹ì„ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."),
                        new Room(Position.of(0, 1), "ë‹¤ë¦¬", "í° ê°• ìœ„ì— ëŒë¡œ ë§Œë“  ì»¤ë‹¤ë€ ë‹¤ë¦¬ê°€ ìˆìŠµë‹ˆë‹¤."),
                        new Room(Position.of(1, 1), "ì„±", "ìš©ì™•ì´ ì‚´ê³  ìˆëŠ” ì„±ì— ë„ì°©í–ˆìŠµë‹ˆë‹¤."),
                        new Room(Position.of(0, 2), "ì–¸ë•", "ì € ë©€ë¦¬ ì„±ì´ ë³´ì´ê³  ì–¸ë• ì•„ë˜ë¡œ ì¢ì€ ê¸¸ì´ ë‚˜ ìˆìŠµë‹ˆë‹¤."),
                        new Room(Position.of(1, 2), "ë™êµ´", "ì–´ë‘ ì— ì ê¸´ ë™êµ´ ì•ˆì— ì‘ì€ í™”í†³ë¶ˆì´ í”¼ì–´ ìˆìŠµë‹ˆë‹¤.")),
                Position.of(0, 2));
        this.commandParser = new CommandParser();
    }

    public void run() {
        welcome();
        play();
        farewell();
    }

    private void welcome() {
        showGreetings();
        showRoom();
        showHelp();
    }

    private void showGreetings() {
        System.out.println("í™˜ì˜í•©ë‹ˆë‹¤!");
    }

    private void showHelp() {
        System.out.println("ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
        System.out.println("go {north|east|south|west} - ì´ë™, look - ë³´ê¸°, help - ë„ì›€ë§, quit - ê²Œì„ ì¢…ë£Œ");
    }

    private void farewell() {
        System.out.println("\nê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.");
    }

    private void play() {
        Scanner scanner = new Scanner(System.in);

        start();
        while (isRunning()) {
            String input = inputCommand(scanner);
            Command command = commandParser.parseCommand(input);
            executeCommand(command);
        }
    }

    private void executeCommand(Command command) {
        switch(command) {
            case Command.Move move -> tryMove(move.direction());
            case Command.Look() -> showRoom();
            case Command.Help() -> showHelp();
            case Command.Quit() -> stop();
            case Command.Unknown() -> showUnknownCommand();
        }
    }

    private void tryMove(Direction direction) {
        if (player.move(direction)) {
            showRoom();
            return;
        }

        showBlocked();
    }

    private void showBlocked() {
        System.out.println("ì´ë™í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }

    public void showRoom() {
        System.out.println("ë‹¹ì‹ ì€ [" + player.currentRoom().name() + "]ì— ìˆìŠµë‹ˆë‹¤.");
        System.out.println(player.currentRoom().description());
    }

    private boolean isRunning() {
        return running;
    }

    private String inputCommand(Scanner scanner) {
        showPrompt();
        return input(scanner);
    }

    private void start() {
        running = true;
    }

    private void stop() {
        this.running = false;
    }

    private void showUnknownCommand() {
        System.out.println("ì´í•´í•  ìˆ˜ ì—†ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.");
    }

    private String input(Scanner scanner) {
        return scanner.nextLine();
    }

    private void showPrompt() {
        System.out.print("> ");
    }
}
```

ì´ë ‡ê²Œ í•´ê²°í•¨ìœ¼ë¡œì¨, ê¸°ì¡´ ë¬¸ì œì¸ ê°•í•œ ê²°í•©ë„ì™€ ì–‘ë°©í–¥ ì°¸ì¡° ë¬¸ì œê°€ í•´ê²°ì´ ë˜ì—ˆë‹¤. ì´ì œ 1ê°€ì§€ ë‚¨ì€ ë¬¸ì œê°€ ì¡´ì¬í•œë‹¤.

## á„†á…§á†¼á„…á…§á†¼ á„á…¯á„…á…µ á„‡á…®á†«á„…á…µ á„‹á…¯á†«á„á…µá†¨á„‹á…³á„…á…© á„‡á…®á„‰á…®á„’á…­á„€á…ª á„€á…ªá†«á„…á…µá„’á…¡á„€á…µ

ì¼ë ¨ì˜ ì ˆì°¨ë¥¼ ë¬¶ì–´ í˜¸ì¶œê°€ëŠ¥í•˜ë„ë¡ ì´ë¦„ì„ ë¶€ì—¬í•œ ê¸°ëŠ¥ ëª¨ë“ˆì„ **ë£¨í‹´**ì´ë¼ê³  í•œë‹¤. ë£¨í‹´ì˜ ë¶„ë¥˜ë¡œëŠ” ë¶€ìˆ˜íš¨ê³¼ì™€ ë°˜í™˜ ê°’ì˜ ìœ ë¬´ì— ë”°ë¼ í”„ë¡œì‹œì €ì™€ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•œë‹¤. ì´ê²ƒì„ ê°ì²´ì§€í–¥ì ì¸ ê´€ì ì—ì„œ ë´¤ì„ ë•Œ í”„ë¡œì‹œì €ë¥¼ ëª…ë ¹, í•¨ìˆ˜ë¥¼ ì¿¼ë¦¬ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ ë‚˜ì˜¤ëŠ” ì›ì¹™ì´ **ëª…ë ¹-ì¿¼ë¦¬ ë¶„ë¦¬ ì›ì¹™**ì´ë‹¤.

> ğŸ“š ëª…ë ¹ ì¿¼ë¦¬ ë¶„ë¦¬ ì›ì¹™
>
> ë¶€ìˆ˜íš¨ê³¼ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ” ê²ƒë§Œì„ í•¨ìˆ˜ë¡œ ì œí•œí•¨ìœ¼ë¡œì¨ ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ ë§í•˜ëŠ” "í•¨ìˆ˜"ì˜ ê°œë…ì´ ì¼ë°˜ ìˆ˜í•™ì—ì„œì˜ ê°œë…ê³¼ ìƒì¶©ë˜ì§€ ì•Šê²Œ í•œë‹¤. ê°ì²´ë¥¼ ë³€ê²½í•˜ì§€ë§Œ ì§ì ‘ì ìœ¼ë¡œ ê°’ì„ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” ëª…ë ¹ê³¼ ê°ì²´ì— ëŒ€í•œ ì •ë³´ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ ë³€ê²½í•˜ì§€ ì•ŠëŠ” ì¿¼ë¦¬ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•´ì•¼ í•œë‹¤.

ì¦‰, ì§ˆë¬¸ì´ ë‹µë³€ì„ ìˆ˜ì •í•´ì„œëŠ” ì•ˆ ëœë‹¤ê³  ë¹„ìœ ì ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

- ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì€ ë°˜í™˜ ê°’ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
- ê°ì²´ì˜ ì •ë³´ë¥¼ ë°˜í™˜í•˜ëŠ” ì¿¼ë¦¬ëŠ” ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.

ëª…ë ¹ê³¼ ì¿¼ë¦¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê·¼ë³¸ì ì¸ ì´ìœ ëŠ” ë°”ë¡œ ì´í•´í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œì´ë‹¤. ì´ ê°œë…ì„ ì´í•´í•˜ê¸° ìœ„í•´ ì´ì „ì˜ ì¼ì • ê´€ë¦¬ í”„ë¡œê·¸ë¨ì„ ë– ì˜¬ë ¤ ë³´ì. ì´ì „ ì¼ì • ê´€ë¦¬ í”„ë¡œê·¸ë¨ì— ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ì´ ë“±ì¥í•˜ì˜€ë‹¤. ì–´ë–¤ ë‚ ì— ì¼ì •ì´ ìˆëŠ”ì§€ í™•ì¸ í›„, ì¼ì •ì´ ì—†ìœ¼ë©´ í•´ë‹¹ ë‚ ì§œë¥¼ ë§Œì¡±ì‹œí‚¤ë„ë¡ ë°˜ë³µ ì¼ì •ì„ ì¡°ì •í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ ì™”ë‹¤ê³  í•´ë³´ì. ê·¸ëŸ¬ë©´ ìš°ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•  ê²ƒì´ë‹¤.

``` java
package me.sungbin.event.problem;

import java.time.LocalDate;

public interface RecurringPlan {

    boolean includes(LocalDate day);

    void reschedule(LocalDate day);
}
```

``` java
package me.sungbin.event.problem;

import java.time.DayOfWeek;
import java.time.LocalDate;

public class MonthlyPlan implements RecurringPlan {

    private static final int DAYS_IN_WEEK = 7;

    private DayOfWeek dayOfWeek;

    private Integer ordinal;

    public MonthlyPlan(DayOfWeek dayOfWeek, Integer ordinal) {
        this.ordinal = ordinal;
        this.dayOfWeek = dayOfWeek;
    }

    @Override
    public boolean includes(LocalDate day) {
        if (!day.getDayOfWeek().equals(dayOfWeek)) {
            return false;
        }

        return (day.getDayOfMonth() / DAYS_IN_WEEK) + 1 == ordinal;
    }

    @Override
    public void reschedule(LocalDate day) {
        this.dayOfWeek = day.getDayOfWeek();
        this.ordinal = (day.getDayOfMonth() / DAYS_IN_WEEK) + 1;
    }
}
```

``` java
package me.sungbin.event.problem;

import java.time.DayOfWeek;
import java.time.LocalDate;
import java.util.Set;

public class WeeklyPlan implements RecurringPlan {

    private Set<DayOfWeek> dayOfWeeks;

    public WeeklyPlan(Set<DayOfWeek> dayOfWeeks) {
        this.dayOfWeeks = dayOfWeeks;
    }

    @Override
    public boolean includes(LocalDate day) {
        return dayOfWeeks.contains(day.getDayOfWeek());
    }

    @Override
    public void reschedule(LocalDate day) {
        dayOfWeeks.add(day.getDayOfWeek());
    }
}
```

``` java
package me.sungbin.event.problem;

import java.time.Duration;
import java.time.LocalDate;
import java.time.LocalTime;

public class Schedule {

    private String name;

    private LocalTime from;

    private Duration duration;

    private RecurringPlan plan;

    public Schedule(String name, LocalTime from, Duration duration, RecurringPlan plan) {
        this.name = name;
        this.from = from;
        this.duration = duration;
        this.plan = plan;
    }

    public boolean includes(LocalDate day) {
        if (!plan.includes(day)) {
            plan.reschedule(day);
            return false;
        }

        return true;
    }
}
```

ì´ë ‡ê²Œ ì‘ì„±í•˜ë‹ˆ ì§€ê¸ˆ ëª…ë ¹ê³¼ ì¿¼ë¦¬ê°€ í•˜ë‚˜ë¡œ í•©ì³ì§„ ì¦ìƒì„ í™•ì¸í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì´ëŸ° ë©”ì„œë“œëŠ” ì½”ë“œ ë‚´ë¶€ë¥¼ ì‚´í´ë³´ê¸° ì „ê¹Œì§€ ê²°ê³¼ ì˜ˆì¸¡ì´ í˜ë“¤ë©° í…ŒìŠ¤íŠ¸ë„ ì˜ˆìƒí•˜ê¸° ì–´ë ¤ìš´ ê²°ê³¼ë¥¼ ì´ˆë˜í•œë‹¤.

CQS ì›ì¹™ì€ ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•´ì¤€ë‹¤. CQS ì›ì¹™ì˜ ì¥ì ìœ¼ë¡œëŠ” ì¼ê´€ì„± ìˆëŠ” ë©”ì„œë“œ ì‹œê·¸ë‹ˆì³ë¥¼ ê°–ëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤. ë°˜í™˜íƒ€ì…ì´ ìˆë‹¤ë©´ ì¿¼ë¦¬, ì—†ë‹¤ë©´ ëª…ë ¹ìœ¼ë¡œ ìœ ì¶”í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¼ ìœ„ì˜ ì½”ë“œë¥¼ ëª…ë ¹ê³¼ ì¿¼ë¦¬ë¥¼ ë¶„ë¦¬í•˜ì.

``` java
package me.sungbin.event.solution;

import java.time.Duration;
import java.time.LocalDate;
import java.time.LocalTime;

public class Schedule {

    private String name;

    private LocalTime from;

    private Duration duration;

    private RecurringPlan plan;

    public Schedule(String name, LocalTime from, Duration duration, RecurringPlan plan) {
        this.name = name;
        this.from = from;
        this.duration = duration;
        this.plan = plan;
    }

    public boolean includes(LocalDate day) {
        return plan.includes(day);
    }

    public void reschedule(LocalDate day) {
        plan.reschedule(day);
    }
}
```

ì´ë ‡ê²Œ ì‘ì„±í•˜ë‹ˆ í…ŒìŠ¤íŠ¸ ì˜ˆì¸¡ë„ ì‰¬ì›Œì§€ê³  ì„¸ë¶€ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì•ˆì—ì„œë„ ëª…ë ¹ì„ ê¸°ì¤€ìœ¼ë¡œ ê¸°ëŒ€ì¹˜ë¥¼ ì‰½ê²Œ ì˜ˆìƒí•  ìˆ˜ ìˆë‹¤. ì´ CQS ì›ì¹™ì„ í´ë˜ìŠ¤ ë‹¨ìœ„ë¡œ í™•ì¥í•´ë³´ì. ì§€ê¸ˆ í˜„ì¬ í´ë˜ìŠ¤ëŠ” ë¶€ìˆ˜íš¨ê³¼ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ ë¡œì§ê¹Œì§€ í™•ì¸í•´ì•¼ í•˜ëŠ” ë‹¨ì ì´ ì¡´ì¬í•œë‹¤. ì‚¬ì‹¤ ë©”ì„¸ì§€ë¥¼ ìˆ˜ì‹ í•˜ëŠ” `Schedule`ë§Œ ë³´ê³  `Schedule`ì˜ ë¶€ìˆ˜íš¨ê³¼ë§Œ ì´í•´í•˜ë©´ ë˜ëŠ”ë° ë§ì´ë‹¤. ì´ëŸ° ë¬¸ì œë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ ê°’ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ë„ì…í•  ìˆ˜ ìˆë‹¤. ê°’ ê°ì²´ì˜ ëª¨ë“  ë©”ì„œë“œëŠ” ì¿¼ë¦¬ë‹¤. ë¶€ìˆ˜íš¨ê³¼ê°€ ì—†ìœ¼ë¯€ë¡œ í´ë˜ìŠ¤ ë‚´ë¶€ ì½”ë“œë¥¼ í™•ì¸í•  í•„ìš”ê°€ ì—†ë‹¤. ê·¸ëŸ¬ë©´ ê°’ ê°ì²´ë¥¼ í•œë²ˆ ë„ì…í•´ë³´ì.

``` java
package me.sungbin.event.valueobject;

import java.time.LocalDate;

public interface RecurringPlan {

    boolean includes(LocalDate day);

    RecurringPlan reschedule(LocalDate day);
}
```

``` java
package me.sungbin.event.valueobject;

import java.time.DayOfWeek;
import java.time.LocalDate;

public class MonthlyPlan implements RecurringPlan {

    private static final int DAYS_IN_WEEK = 7;

    private DayOfWeek dayOfWeek;
    private Integer ordinal;

    public MonthlyPlan(DayOfWeek dayOfWeek, Integer ordinal) {
        this.ordinal = ordinal;
        this.dayOfWeek = dayOfWeek;
    }

    @Override
    public boolean includes(LocalDate day) {
        if (!day.getDayOfWeek().equals(dayOfWeek)) {
            return false;
        }

        return (day.getDayOfMonth() / DAYS_IN_WEEK) + 1 == ordinal;
    }

    @Override
    public MonthlyPlan reschedule(LocalDate day) {
        return new MonthlyPlan(
                day.getDayOfWeek(),
                (day.getDayOfMonth() / DAYS_IN_WEEK) + 1);
    }
}
```

``` java
package me.sungbin.event.valueobject;

import java.time.DayOfWeek;
import java.time.LocalDate;
import java.util.HashSet;
import java.util.Set;

public class WeeklyPlan implements RecurringPlan {

    private Set<DayOfWeek> dayOfWeeks;

    public WeeklyPlan(Set<DayOfWeek> dayOfWeeks) {
        this.dayOfWeeks = dayOfWeeks;
    }

    @Override
    public boolean includes(LocalDate day) {
        return dayOfWeeks.contains(day.getDayOfWeek());
    }

    @Override
    public WeeklyPlan reschedule(LocalDate day) {
        var copy = new HashSet<>(dayOfWeeks);
        copy.add(day.getDayOfWeek());
        return new WeeklyPlan(copy);
    }
}
```

``` java
package me.sungbin.event.valueobject;

import java.time.Duration;
import java.time.LocalDate;
import java.time.LocalTime;

public class Schedule {

    private String name;
    private LocalTime from;
    private Duration duration;
    private RecurringPlan expression;

    public Schedule(String name, LocalTime from, Duration duration, RecurringPlan expression) {
        this.name = name;
        this.from = from;
        this.duration = duration;
        this.expression = expression;
    }

    public boolean includes(LocalDate day) {
        return expression.includes(day);
    }

    public void reschedule(LocalDate day) {
        this.expression = expression.reschedule(day);
    }
}
```

ì´ì œ ì´ CQS ì›ì¹™ì„ ê¸°ì¡´ ê²Œì„ì˜ `Player` ê°ì²´ì—ê²Œ ì ìš©ì‹œì¼œë³´ì. í•œë²ˆ ì˜ ê³ ë¯¼í•´ë³´ê³  ê²°ê³¼ë¥¼ í™•ì¸í•˜ì.

``` java
package me.sungbin.adventure;

public class Player {

    private WorldMap worldMap;
    private Position position;

    public Player(WorldMap worldMap, Position position) {
        this.worldMap = worldMap;
        this.position = position;
    }

    public boolean canMove(Direction direction) {
        return !worldMap.isBlocked(position.shift(direction));
    }

    public void move(Direction direction) {
        if (!canMove(direction)) {
            throw new IllegalArgumentException();
        }

        this.position = this.position.shift(direction);
    }

    Position position() {
        return position;
    }

    public Room currentRoom() {
        return worldMap.roomAt(position);
    }
}
```

ì´ë ‡ê²Œ ëª…ë ¹ê³¼ ì¿¼ë¦¬ë¥¼ ë¶„ë¦¬í•¨ìœ¼ë¡œ ë¶€ìˆ˜íš¨ê³¼ë¥¼ ì œì–´í•  ìˆ˜ ìˆëŠ” íš¨ê³¼ë„ ê°€ì§€ê²Œ ë˜ì—ˆë‹¤.

> ì˜ëª»ëœ ì§€ì‹ì´ ìˆì„ ê²½ìš° ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ë¹ ë¥´ê²Œ ë°˜ì˜í•˜ê² ìŠµë‹ˆë‹¤!