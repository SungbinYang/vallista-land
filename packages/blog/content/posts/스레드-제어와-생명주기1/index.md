---
title: "[ìë°” ê³ ê¸‰1] ìŠ¤ë ˆë“œ ì œì–´ì™€ ìƒëª…ì£¼ê¸°1"
tags:
  - ìë°”
image: ./assets/banner.png
date: 2025-05-12 00:01:27
series: ìë°” ê³ ê¸‰1
draft: false
---

![ë°°ë„ˆ ì´ë¯¸ì§€](./assets/banner.png)

> í•´ë‹¹ ë¸”ë¡œê·¸ ê¸€ì€ [ì˜í•œë‹˜ì˜ ì¸í”„ëŸ° ê°•ì˜](https://inf.run/6oSgn)ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì“°ì—¬ì§„ ê¸€ì…ë‹ˆë‹¤.

## ìŠ¤ë ˆë“œ ê¸°ë³¸ ì •ë³´

`Thread` í´ë˜ìŠ¤ëŠ” ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. `Thread` í´ë˜ìŠ¤ê°€ ì œê³µí•˜ëŠ” ì •ë³´ë“¤ì„ í™•ì¸í•´ë³´ì.

### ìŠ¤ë ˆë“œ ìƒì„±

ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•  ë•ŒëŠ” ì‹¤í–‰í•  `Runnable` ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ì™€, ìŠ¤ë ˆë“œì˜ ì´ë¦„ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

``` java
Thread myThread = new Thread(new HelloRunnable(), "myThread");
```

- Runnable ì¸í„°í˜ì´ìŠ¤: ì‹¤í–‰í•  ì‘ì—…ì„ í¬í•¨í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.
- ìŠ¤ë ˆë“œ ì´ë¦„: `Thread` í´ë˜ìŠ¤ ìƒì„±ì ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ë¬¸ìì—´ë¡œ ìŠ¤ë ˆë“œ ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì´ ì´ë¦„ì€ ë””ë²„ê¹…ì´ë‚˜ ë¡œê¹… ëª©ì ìœ¼ë¡œ ìœ ìš©í•˜ë‹¤. ì°¸ê³ ë¡œ ì´ë¦„ì„ ìƒëµí•˜ë©´ `Thread-0`, `Thread-1`ê³¼ ê°™ì€ ì„ì˜ì˜ ì´ë¦„ì´ ìƒì„±ëœë‹¤.

### ìŠ¤ë ˆë“œ ê°ì²´ ì •ë³´

``` java
log("myThread = " + myThread);
```

- `myThread` ê°ì²´ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ì¶œë ¥í•œë‹¤. `Thread` í´ë˜ìŠ¤ì˜ `toString()` ë©”ì„œë“œëŠ” ìŠ¤ë ˆë“œ ID, ìŠ¤ë ˆë“œ ì´ë¦„, ìš°ì„ ìˆœìœ„, ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ í¬í•¨í•˜ëŠ” ë¬¸ìì—´ì„ ë°˜í™˜í•œë‹¤.

### ìŠ¤ë ˆë“œ ID

``` java
log("myThread.threadId() = " + myThread.threadId());
```

- threadId(): ë ˆë“œì˜ ê³ ìœ  ì‹ë³„ìë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ì´ IDëŠ” JVM ë‚´ì—ì„œ ê° ìŠ¤ë ˆë“œì— ëŒ€í•´ ìœ ì¼í•˜ë‹¤. IDëŠ” ìŠ¤ë ˆë“œê°€ ìƒì„±ë  ë•Œ í• ë‹¹ë˜ë©°, ì§ì ‘ ì§€ì •í•  ìˆ˜ ì—†ë‹¤.

### ìŠ¤ë ˆë“œ ì´ë¦„

``` java
log("myThread.getName() = " + myThread.getName());
```

- getName(): ìŠ¤ë ˆë“œì˜ ì´ë¦„ì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ìŠ¤ë ˆë“œ IDëŠ” ì¤‘ë³µì´ ì•ˆë˜ì§€ë§Œ ìŠ¤ë ˆë“œ ì´ë¦„ì€ ì¤‘ë³µì´ ê°€ëŠ¥í•˜ë‹¤.

### ìŠ¤ë ˆë“œ ìš°ì„ ìˆœìœ„

``` java
log("myThread.getPriority() = " + myThread.getPriority());
```

- getPriority(): ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ìš°ì„ ìˆœìœ„ëŠ” 1(ê°€ì¥ ë‚®ìŒ)ì—ì„œ 10(ê°€ì¥ ë†’ìŒ)ê¹Œì§€ì˜ ê°’ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©°, ê¸°ë³¸ê°’ì€ 5ì´ë‹¤. `setPriority()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ ìš°ì„ ìˆœìœ„ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
- ìš°ì„ ìˆœìœ„ëŠ” ìŠ¤ë ˆë“œ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì–´ë–¤ ìŠ¤ë ˆë“œë¥¼ ìš°ì„  ì‹¤í–‰í• ì§€ ê²°ì •í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. í•˜ì§€ë§Œ ì‹¤ì œ ì‹¤í–‰ ìˆœì„œëŠ” JVM êµ¬í˜„ê³¼ ìš´ì˜ì²´ì œì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.

### ìŠ¤ë ˆë“œ ê·¸ë£¹

``` java
log("myThread.getThreadGroup() = " + myThread.getThreadGroup());
```

- getThreadGroup(): ìŠ¤ë ˆë“œê°€ ì†í•œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ìŠ¤ë ˆë“œ ê·¸ë£¹ì€ ìŠ¤ë ˆë“œë¥¼ ê·¸ë£¹í™”í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ìŠ¤ë ˆë“œëŠ” ë¶€ëª¨ ìŠ¤ë ˆë“œì™€ ë™ì¼í•œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ê²Œ ëœë‹¤.
- ìŠ¤ë ˆë“œ ê·¸ë£¹ì€ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ì„œ íŠ¹ì • ì‘ì—…(ì˜ˆ: ì¼ê´„ ì¢…ë£Œ, ìš°ì„ ìˆœìœ„ ì„¤ì • ë“±)ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.
- `main` ìŠ¤ë ˆë“œëŠ” ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ëŠ” `main` ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†Œì†ë˜ì–´ ìˆë‹¤. ë”°ë¼ì„œ ìì‹ ìŠ¤ë ˆë“œë„ ë¶€ëª¨ ìŠ¤ë ˆë“œì¸ `main` ìŠ¤ë ˆë“œì˜ ê·¸ë£¹ì¸ `main` ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†Œì†ëœë‹¤.

> ğŸ“š ìš©ì–´ ì •ë¦¬
>
> ë¶€ëª¨ ìŠ¤ë ˆë“œë€, ìŠ¤ë ˆë“œ ê·¸ë£¹ì€ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ì„œ íŠ¹ì • ì‘ì—…(ì˜ˆ: ì¼ê´„ ì¢…ë£Œ, ìš°ì„ ìˆœìœ„ ì„¤ì • ë“±)ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ `main` ìŠ¤ë ˆë“œê°€ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ìµœìƒìœ„ ë¶€ëª¨ëŠ” `main` ìŠ¤ë ˆë“œì´ë‹¤.

> âœ… ì°¸ê³ 
>
> ìŠ¤ë ˆë“œ ê·¸ë£¹ ê¸°ëŠ¥ì€ ì§ì ‘ì ìœ¼ë¡œ ì˜ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šê¸° ë•Œë¬¸ì—, ì´ëŸ° ê²ƒì´ ìˆêµ¬ë‚˜ ì •ë„ë§Œ ì•Œê³  ë„˜ì–´ê°€ì!

### ìŠ¤ë ˆë“œ ìƒíƒœ

``` java
log("myThread.getState() = " + myThread.getState());
```

- getState(): ìŠ¤ë ˆë“œì˜ í˜„ì¬ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ë°˜í™˜ë˜ëŠ” ê°’ì€ `Thread.State` ì—´ê±°í˜•ì— ì •ì˜ëœ ìƒìˆ˜ ì¤‘ í•˜ë‚˜ì´ë‹¤.
    - **NEW**: ìŠ¤ë ˆë“œê°€ ì•„ì§ ì‹œì‘ë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤.
    - **RUNNABLE**: ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜ ì‹¤í–‰ë  ì¤€ë¹„ê°€ ëœ ìƒíƒœì´ë‹¤.
    - **BLOCKED**: ìŠ¤ë ˆë“œê°€ ë™ê¸°í™” ë½ì„ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.
    - **WAITING**: ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ íŠ¹ì • ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.
    - **TIMED_WAITING**: ì¼ì • ì‹œê°„ ë™ì•ˆ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.
    - **TERMINATED**: ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ì„ ë§ˆì¹œ ìƒíƒœì´ë‹¤.

## ìŠ¤ë ˆë“œì˜ ìƒëª… ì£¼ê¸° - ì„¤ëª…

![image1](./assets/01.png)

- New(ìƒˆë¡œìš´ ìƒíƒœ)
    - ìŠ¤ë ˆë“œê°€ ìƒì„±ë˜ê³  ì•„ì§ ì‹œì‘ë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤.
    - ì´ ìƒíƒœì—ì„œëŠ” `Thread` ê°ì²´ê°€ ìƒì„±ë˜ì§€ë§Œ, `start()` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤.
- Runnable(ì‹¤í–‰ ê°€ëŠ¥í•œ ìƒíƒœ)
    - ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë  ì¤€ë¹„ê°€ ëœ ìƒíƒœì´ë‹¤. ì´ ìƒíƒœì—ì„œ ìŠ¤ë ˆë“œëŠ” ì‹¤ì œë¡œ CPUì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤.
    - `start()` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ ìŠ¤ë ˆë“œëŠ” ì´ ìƒíƒœë¡œ ë“¤ì–´ê°„ë‹¤.
    - ì´ ìƒíƒœëŠ” ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë  ì¤€ë¹„ê°€ ë˜ì–´ ìˆìŒì„ ë‚˜íƒ€ë‚´ë©°, ì‹¤ì œë¡œ CPUì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ìƒíƒœì´ë‹¤. ê·¸ëŸ¬ë‚˜ Runnable ìƒíƒœì— ìˆëŠ” ëª¨ë“  ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ìš´ì˜ì²´ì œì˜ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ê° ìŠ¤ë ˆë“œì— CPU ì‹œê°„ì„ í• ë‹¹í•˜ì—¬ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì—, Runnable ìƒíƒœì— ìˆëŠ” ìŠ¤ë ˆë“œëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ì˜ ì‹¤í–‰ ëŒ€ê¸°ì—´ì— í¬í•¨ë˜ì–´ ìˆë‹¤ê°€ ì°¨ë¡€ë¡œ CPUì—ì„œ ì‹¤í–‰ëœë‹¤.

> âœ… ì°¸ê³ 
>
> ìš´ì˜ì²´ì œ ìŠ¤ì¼€ì¤„ëŸ¬ì˜ ì‹¤í–‰ ëŒ€ê¸°ì—´ì— ìˆë“ , CPUì—ì„œ ì‹¤ì œ ì‹¤í–‰ë˜ê³  ìˆë“  ëª¨ë‘ `RUNNABLE` ìƒíƒœì´ë‹¤. ìë°”ì—ì„œ ë‘˜ì„ êµ¬ë¶„í•´ì„œ í™•ì¸í•  ìˆ˜ëŠ” ì—†ë‹¤.

- Blocked(ì°¨ë‹¨ ìƒíƒœ)
    - ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ì˜í•´ ë™ê¸°í™” ë½ì„ ì–»ê¸° ìœ„í•´ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.
    - ì˜ˆë¥¼ ë“¤ì–´, `synchronized` ë¸”ë¡ì— ì§„ì…í•˜ê¸° ìœ„í•´ ë½ì„ ì–»ì–´ì•¼ í•˜ëŠ” ê²½ìš° ì´ ìƒíƒœì— ë“¤ì–´ê°„ë‹¤.
- Waiting(ëŒ€ê¸° ìƒíƒœ)
    - ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ íŠ¹ì • ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ë¬´ê¸°í•œ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.
    - `wait()`, `join()` ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ ì´ ìƒíƒœê°€ ëœë‹¤.
    - ìŠ¤ë ˆë“œëŠ” ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ `notify()` ë˜ëŠ” `notifyAll()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜, `join()`ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
- Timed Waiting(ì‹œê°„ ì œí•œ ëŒ€ê¸° ìƒíƒœ)
    - ìŠ¤ë ˆë“œê°€ íŠ¹ì • ì‹œê°„ ë™ì•ˆ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.
    - `sleep(long millis)`, `wait(long timeout)`, `join(long millis)` ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ ì´ ìƒíƒœê°€ ëœë‹¤.
    - ì£¼ì–´ì§„ ì‹œê°„ì´ ê²½ê³¼í•˜ê±°ë‚˜ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ í•´ë‹¹ ìŠ¤ë ˆë“œë¥¼ ê¹¨ìš°ë©´ ì´ ìƒíƒœì—ì„œ ë²—ì–´ë‚œë‹¤.
- Terminated(ì¢…ë£Œ ìƒíƒœ)
    - ìŠ¤ë ˆë“œì˜ ì‹¤í–‰ì´ ì™„ë£Œëœ ìƒíƒœì´ë‹¤.
    - ìŠ¤ë ˆë“œê°€ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ê±°ë‚˜, ì˜ˆì™¸ê°€ ë°œìƒí•˜ì—¬ ì¢…ë£Œëœ ê²½ìš° ì´ ìƒíƒœë¡œ ë“¤ì–´ê°„ë‹¤.
    - ìŠ¤ë ˆë“œëŠ” í•œ ë²ˆ ì¢…ë£Œë˜ë©´ ë‹¤ì‹œ ì‹œì‘í•  ìˆ˜ ì—†ë‹¤.

> âœ… ì°¸ê³ 
>
> ìë°”ì—ì„œ ìŠ¤ë ˆë“œì˜ **ì¼ì‹œ ì¤‘ì§€ ìƒíƒœë“¤(Suspended States)**ì´ë¼ëŠ” ìƒíƒœëŠ” ì—†ë‹¤. ìŠ¤ë ˆë“œê°€ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœë“¤ì„ ë¬¶ì–´ì„œ ì‰½ê²Œ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œ ìš©ì–´ì´ë‹¤.

## ìŠ¤ë ˆë“œì˜ ìƒëª… ì£¼ê¸° - ì½”ë“œ

ì´ì œ ì´ëŸ° ìƒëª…ì£¼ê¸°ë¥¼ ì½”ë“œë¡œ ì‚´í´ë³´ì.

``` java
package thread.control;

import static util.MyLogger.log;

public class ThreadStateMain {
    public static void main(String[] args) throws InterruptedException {
        Thread thread = new Thread(new MyRunnable(), "myThread");
        log("myThread.state1 = " + thread.getState());
        log("myThread.start()");
        thread.start();

        Thread.sleep(1000);
        log("myThread.state3 = " + thread.getState());

        Thread.sleep(4000);
        log("myThread.state5 = " + thread.getState());
        log("end");
    }

    static class MyRunnable implements Runnable {
        @Override
        public void run() {
            try {
                log("start");
                log("myThread.state2 = " + Thread.currentThread().getState());
                log("sleep start()");

                Thread.sleep(3000);

                log("sleep end()");
                log("myThread.state4 = " + Thread.currentThread().getState());
                log("end");
            } catch (InterruptedException e) {
                throw new RuntimeException(e);
            }
        }
    }
}
```

- `Thread.currentThread()` ë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ìŠ¤ë ˆë“œ ê°ì²´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
- `Thread.sleep()` : í•´ë‹¹ ì½”ë“œë¥¼ í˜¸ì¶œí•œ ìŠ¤ë ˆë“œëŠ” `TIMED_WAITING` ìƒíƒœê°€ ë˜ë©´ì„œ íŠ¹ì • ì‹œê°„ ë§Œí¼ ëŒ€ê¸°í•œë‹¤. ì‹œê°„ì€ ë°€ë¦¬ì´ˆ(ms) ë‹¨ìœ„ì´ë‹¤.
- `Thread.sleep()` ì€ `InterruptedException` ì´ë¼ëŠ” ì²´í¬ ì˜ˆì™¸ë¥¼ ë˜ì§„ë‹¤. ë”°ë¼ì„œ ì²´í¬ ì˜ˆì™¸ë¥¼ ì¡ì•„ì„œ ì²˜ë¦¬í•˜ê±°ë‚˜ ë˜ì ¸ì•¼ í•œë‹¤.
    - `run()` ë©”ì„œë“œì—ì„œëŠ” ì²´í¬ ì˜ˆì™¸ë¥¼ ë°–ìœ¼ë¡œ ë˜ì§ˆ ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ ê°•ì œì ìœ¼ë¡œ `try-catch`ë¥¼ í†µí•˜ì—¬ ì˜ˆì™¸ë¥¼ ì¡ì•„ì¤˜ì•¼ í•œë‹¤.

## ì²´í¬ ì˜ˆì™¸ ì¬ì •ì˜

`Runnable` ì¸í„°í˜ì´ìŠ¤ì˜ `run()` ë©”ì„œë“œë¥¼ êµ¬í˜„í•  ë•Œ `InterruptedException` ì²´í¬ ì˜ˆì™¸ë¥¼ ë°–ìœ¼ë¡œ ë˜ì§ˆ ìˆ˜ ì—†ëŠ” ì´ìœ ë¥¼ ì•Œì•„ë³´ì.

``` java
public interface Runnable {
    void run();
}
```

- ì²´í¬ ì˜ˆì™¸
    - ë¶€ëª¨ ë©”ì„œë“œê°€ ì²´í¬ ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•ŠëŠ” ê²½ìš°, ì¬ì •ì˜ëœ ìì‹ ë©”ì„œë“œë„ ì²´í¬ ì˜ˆì™¸ë¥¼ ë˜ì§ˆ ìˆ˜ ì—†ë‹¤.
    - ìì‹ ë©”ì„œë“œëŠ” ë¶€ëª¨ ë©”ì„œë“œê°€ ë˜ì§ˆ ìˆ˜ ìˆëŠ” ì²´í¬ ì˜ˆì™¸ì˜ í•˜ìœ„ íƒ€ì…ë§Œ ë˜ì§ˆ ìˆ˜ ìˆë‹¤.
- ëŸ°íƒ€ì„ ì˜ˆì™¸
    - ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ê°•ì œí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìƒê´€ì—†ì´ ë˜ì§ˆ ìˆ˜ ìˆë‹¤.

ì¦‰, `run()` ë©”ì„œë“œëŠ” ì•„ë¬´ëŸ° ì˜ˆì™¸ë¥¼ ë˜ì§€ê³  ìˆì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ°ë° ì´ê²ƒì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ì—ì„œ ì˜ˆì™¸ë¥¼ ë˜ì§€ë©´ ìë°” ë¬¸ë²• ìƒ ê·œì¹™ì— ì–´ê¸‹ë‚˜ê¸° ë•Œë¬¸ì— ë˜ì§€ì§€ ëª»í•˜ëŠ” ê²ƒì´ë‹¤.

ìë°”ëŠ” ì™œ ì´ëŸ° ì œì•½ì„ ë‘ëŠ” ê²ƒì¼ê¹Œ? ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì½”ë“œëŠ” ë¶€ëª¨ ë©”ì„œë“œê°€ ë˜ì§€ëŠ” íŠ¹ì • ì˜ˆì™¸ë§Œì„ ì²˜ë¦¬í•˜ë„ë¡ ì‘ì„±ëœë‹¤. ìì‹ í´ë˜ìŠ¤ê°€ ë” ë„“ì€ ë²”ìœ„ì˜ ì˜ˆì™¸ë¥¼ ë˜ì§€ë©´ í•´ë‹¹ ì½”ë“œëŠ” ëª¨ë“  ì˜ˆì™¸ë¥¼ ì œëŒ€ë¡œ ì²˜ë¦¬í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” ì˜ˆì™¸ ì²˜ë¦¬ì˜ ì¼ê´€ì„±ì„ í•´ì¹˜ê³ , ì˜ˆìƒí•˜ì§€ ëª»í•œ ëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ë¶€ëª¨ í´ë˜ìŠ¤ì— `InterruptedException`ì„ ë˜ì§€ëŠ” ë©”ì„œë“œê°€ ì¡´ì¬í•œë‹¤ê³  ë³´ì. ê·¸ëŸ°ë° ìì‹ í´ë˜ìŠ¤ì—ì„œ í•´ë‹¹ ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•˜ì—¬ ì‚¬ìš©í•  ë•Œ `Exception`ì„ ë˜ì§„ë‹¤ê³  í•´ë³´ì. ê·¸ë¦¬ê³  ìì‹ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í• ë•Œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤. `main()` ë©”ì„œë“œì—ì„œ `try-catch`ë¡œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì˜ˆì™¸ë¥¼ ì¡ìœ¼ë ¤ê³  `InterruptException`ì„ ì¡ì•˜ë‹¤ê³  í•´ë³´ì. `ë¶€ëª¨ í´ë˜ìŠ¤ ë¶€ëª¨ = new ìì‹í´ë˜ìŠ¤();`ë¡œ ì‘ì„±í•˜ë©´ ì»´íŒŒì¼ íƒ€ì„ì„ ì²´í¬í•˜ì—¬ IDEê°€ ìë™ìœ¼ë¡œ ì¡ì•„ì£¼ëŠ”ë° ì¬ì •ì˜ëœ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ”ë° ê±°ê¸°ì„œ `Exception`ì´ ë°œìƒí•˜ë©´ ì˜ˆì™¸ë¥¼ ëª»ì¡ëŠ” ê²ƒì´ë‹¤. ì¦‰, `ë¶€ëª¨ í´ë˜ìŠ¤ ë¶€ëª¨`ëŠ” `InterruptedException` ë¥¼ ë°˜í™˜í•˜ëŠ”ë°, ê·¸ ìì‹ì´ ì „í˜€ ë‹¤ë¥¸ ì˜ˆì™¸ë¥¼ ë°˜í™˜í•œë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì¡ì„ ìˆ˜ ì—†ë‹¤. ì´ê²ƒì€ í™•ì‹¤í•˜ê²Œ ëª¨ë“  ì˜ˆì™¸ë¥¼ ì²´í¬í•˜ëŠ” ì²´í¬ ì˜ˆì™¸ì˜ ê·œì•½ì— ë§ì§€ ì•ŠëŠ”ë‹¤.

### ì²´í¬ ì˜ˆì™¸ ì¬ì •ì˜ ê·œì¹™

- ìì‹ í´ë˜ìŠ¤ì— ì¬ì •ì˜ëœ ë©”ì„œë“œëŠ” ë¶€ëª¨ ë©”ì„œë“œê°€ ë˜ì§ˆ ìˆ˜ ìˆëŠ” ì²´í¬ ì˜ˆì™¸ì˜ í•˜ìœ„ íƒ€ì…ë§Œì„ ë˜ì§ˆ ìˆ˜ ìˆë‹¤.
- ì›ë˜ ë©”ì„œë“œê°€ ì²´í¬ ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•ŠëŠ” ê²½ìš°, ì¬ì •ì˜ëœ ë©”ì„œë“œë„ ì²´í¬ ì˜ˆì™¸ë¥¼ ë˜ì§ˆ ìˆ˜ ì—†ë‹¤.

### ì•ˆì „í•œ ì˜ˆì™¸ ì²˜ë¦¬

ì²´í¬ ì˜ˆì™¸ë¥¼ `run()` ë©”ì„œë“œì—ì„œ ë˜ì§ˆ ìˆ˜ ì—†ë„ë¡ ê°•ì œí•¨ìœ¼ë¡œì¨, ê°œë°œìëŠ” ë°˜ë“œì‹œ ì²´í¬ ì˜ˆì™¸ë¥¼ try-catch ë¸”ë¡ ë‚´ì—ì„œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤. ì´ëŠ” ì˜ˆì™¸ ë°œìƒ ì‹œ ì˜ˆì™¸ê°€ ì ì ˆíˆ ì²˜ë¦¬ë˜ì§€ ì•Šì•„ì„œ í”„ë¡œê·¸ë¨ì´ ë¹„ì •ìƒ ì¢…ë£Œë˜ëŠ” ìƒí™©ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤. íŠ¹íˆ ë©€í‹°ìŠ¤ë ˆë”© í™˜ê²½ì—ì„œëŠ” ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ê°•ì œí•¨ìœ¼ë¡œì¨ ìŠ¤ë ˆë“œì˜ ì•ˆì •ì„±ê³¼ ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì´ì „ì— ìë°” ì˜ˆì™¸ ì²˜ë¦¬ ê°•ì˜ì—ì„œ ì„¤ëª…í–ˆë“¯ì´, ì²´í¬ ì˜ˆì™¸ë¥¼ ê°•ì œí•˜ëŠ” ì´ëŸ° ë¶€ë¶„ë“¤ì€ ìë°” ì´ˆì°½ê¸° ê¸°ì¡°ì´ê³ , ìµœê·¼ì—ëŠ” ì²´í¬ ì˜ˆì™¸ë³´ë‹¤ëŠ” ì–¸ì²´í¬(ëŸ°íƒ€ì„) ì˜ˆì™¸ë¥¼ ì„ í˜¸í•œë‹¤. ê·¸ë˜ì„œ ì´ëŸ° ì ì„ ìƒê°í•´ ìë°”ì—ì„œë„ ë‚˜ì¤‘ì—ëŠ” `Callalbe`ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•´ì¤€ë‹¤. ê±°ê¸°ì„œëŠ” ì¶”ìƒ ë©”ì„œë“œê°€ `Exception` ì˜ˆì™¸ë¥¼ ë˜ì§„ë‹¤.

## join - ì‹œì‘

ì•ì„œ `Thread.sleep()` ë©”ì„œë“œë¥¼ í†µí•´ `TIMED_WAITING` ìƒíƒœë¥¼ ì•Œì•„ë³´ì•˜ë‹¤. ì´ë²ˆì—ëŠ” `join()` ë©”ì„œë“œë¥¼ í†µí•´ `WAITING` (ëŒ€ê¸° ìƒíƒœ)ê°€ ë¬´ì—‡ì´ê³  ì™œ í•„ìš”í•œì§€ ì•Œì•„ë³´ì.

``` java
package thread.control.join;

import static util.MyLogger.log;
import static util.ThreadUtils.sleep;

public class JoinMainV0 {
    public static void main(String[] args) {
        log("Start");

        Thread thread1 = new Thread(new Job(), "thread-1");
        Thread thread2 = new Thread(new Job(), "thread-2");

        thread1.start();
        thread2.start();

        log("End");
    }

    static class Job implements Runnable {

        @Override
        public void run() {
            log("ì‘ì—… ì‹œì‘");
            sleep(2000);
            log("ì‘ì—… ì™„ë£Œ");
        }
    }
}
```

ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤ê³  í•˜ì. ê·¸ëŸ¬ë©´ ë¡œì§ì„ ë³´ë©´ ì•Œê² ì§€ë§Œ `main` ìŠ¤ë ˆë“œê°€ ë¨¼ì € ì¢…ë£Œê°€ ë  ê²ƒì´ê³  ë‚˜ë¨¸ì§€ ìŠ¤ë ˆë“œë“¤ì´ ì‹¤í–‰ì´ ë  ê²ƒì´ë‹¤. ì™œëƒí•˜ë©´ ë°”ë¡œ `Thread.sleep()`ì„ 2ì´ˆê°„ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ ë§Œì•½ ìƒì„±ëœ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì„ ì²˜ë¦¬í•´ì„œ ë‚˜ì˜¨ ë°˜í™˜ê°’ì„ ë°›ì•„ì„œ `main` ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í• ê¹Œ?

## join - í•„ìš”í•œ ìƒí™©

ë§Œì•½ 1ë¶€í„° 100ê¹Œì§€ ë”í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ ìˆë‹¤ê³  í•´ë³´ì. ê·¸ëŸ°ë° ë„ˆë¬´ ëŠë¦°ê²ƒ ê°™ì•„ì„œ ìŠ¤ë ˆë“œë¥¼ 2ê°œë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤. ë§ˆì¹¨ ì½”ì–´ë„ 2ê°œì—¬ì„œ ì´ë ‡ê²Œ ê°œë°œí•˜ë©´ ê¸°ì¡´ë³´ë‹¤ 2ë°° ë” ë¹ ë¥¸ ì„±ëŠ¥ì„ ë‚¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. í•œë²ˆ ê°œë°œí•´ë³´ì.

``` java
package thread.control.join;

import static util.MyLogger.log;
import static util.ThreadUtils.sleep;

public class JoinMainV1 {
    public static void main(String[] args) {
        log("Start");

        SumTask task1 = new SumTask(1, 50);
        SumTask task2 = new SumTask(51, 100);

        Thread thread1 = new Thread(task1, "thread-1");
        Thread thread2 = new Thread(task2, "thread-2");

        thread1.start();
        thread2.start();

        log("task1.result = " + task1.result);
        log("task2.result = " + task2.result);

        int sumAll = task1.result + task2.result;

        log("task1 + task2 = " + sumAll);
        log("End");
    }

    static class SumTask implements Runnable {

        int startValue;

        int endValue;

        int result;

        public SumTask(int startValue, int endValue) {
            this.startValue = startValue;
            this.endValue = endValue;
        }

        @Override
        public void run() {
            log("ì‘ì—… ì‹œì‘");
            sleep(2000);

            int sum = 0;

            for (int i = startValue; i <= endValue; i++) {
                sum += i;
            }

            result = sum;

            log("ì‘ì—… ì™„ë£Œ result = " + result);
        }
    }
}
```

ìŠ¤ë ˆë“œ 2ê°œë¥¼ ìƒì„±í•´ì„œ í•˜ë‚˜ëŠ” 1ë¶€í„° 50ê¹Œì§€ í•˜ë‚˜ëŠ” 51ë¶€í„° 100ê¹Œì§€ ë”í•˜ëŠ” ì—°ì‚°ì„ ì‹œì¼°ë‹¤. í•˜ì§€ë§Œ ê²°ê³¼ë¥¼ í™•ì¸í•´ë³´ë©´ ì˜ˆìƒê³¼ ë‹¤ë¥´ê²Œ 0ì´ ë‚˜ì˜¨ë‹¤. ì™œ ê·¸ëŸ´ê¹Œ? ê°„ëµíˆ ì´ì•¼ê¸° í•˜ë©´ `main` ìŠ¤ë ˆë“œê°€ ìŠ¤ë ˆë“œ 2ê°œë¥¼ ìƒì„±í•˜ê³  ê¸°ë‹¤ë¦¬ëŠ”ê²Œ ì•„ë‹ˆê³  ë°”ë¡œ ìê¸° ì—°ì‚°ì„ ì‹¤í–‰í•œë‹¤. ê·¸ë¦¬ê³  ë°”ë¡œ í•´ë‹¹ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•´ì„œ ë”í•œë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë“¤ì€ ì•„ì§ ì—°ì‚°ì „ì´ê¸°ì— ì´ˆê¸°ê°’ 0ì´ ë‚˜ì˜¤ëŠ” ê²ƒì´ê³  ê²°ê³¼ê°€ 0ì´ ë‚˜ì˜¤ëŠ” ì‚¬íƒœê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ¼ ì´ ê³¼ì •ì„ ê·¸ë¦¼ì„ í†µí•´ ì‚´í´ë³´ì.

![image2](./assets/02.png)

- í”„ë¡œê·¸ë¨ì´ ì²˜ìŒ ì‹œì‘ë˜ë©´ `main` ìŠ¤ë ˆë“œëŠ” `thread-1`, `thread-2` ë¥¼ ìƒì„±í•˜ê³  `start()`ë¡œ ì‹¤í–‰í•œë‹¤.
- `thread-1`, `thread-2` ëŠ” ê°ê° ìì‹ ì—ê²Œ ì „ë‹¬ëœ `SumTask` ì¸ìŠ¤í„´ìŠ¤ì˜ `run()` ë©”ì„œë“œë¥¼ ìŠ¤íƒì— ì˜¬ë¦¬ê³  ì‹¤í–‰í•œë‹¤.
    - `thread-1`ì€ `x001` ì¸ìŠ¤í„´ìŠ¤ì˜ `run()` ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œë‹¤.
    - `thread-2`ëŠ” `x002` ì¸ìŠ¤í„´ìŠ¤ì˜ `run()` ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œë‹¤.

![image3](./assets/03.png)

- `main` ìŠ¤ë ˆë“œëŠ” ë‘ ìŠ¤ë ˆë“œë¥¼ ì‹œì‘í•œ ë‹¤ìŒì— ë°”ë¡œ `task1.result`, `task2.result` ë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ì— ìˆëŠ” ê²°ê³¼ ê°’ì„ ì¡°íšŒí•œë‹¤. ì°¸ê³ ë¡œ `main` ìŠ¤ë ˆë“œê°€ ì‹¤í–‰í•œ `start()` ë©”ì„œë“œëŠ” ìŠ¤ë ˆë“œì˜ ì‹¤í–‰ì´ ëë‚  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ”ë‹¤! ë‹¤ë¥¸ ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰ë§Œ í•´ë‘ê³ , ìì‹ ì˜ ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•  ë¿ì´ë‹¤!
- `thread-1`, `thread-2`ê°€ ê³„ì‚°ì„ ì™„ë£Œí•´ì„œ, `result` ì— ì—°ì‚° ê²°ê³¼ë¥¼ ë‹´ì„ ë•Œ ê¹Œì§€ëŠ” ì•½ 2ì´ˆ ì •ë„ì˜ ì‹œê°„ì´ ê±¸ë¦°ë‹¤. `main` ìŠ¤ë ˆë“œëŠ” ê³„ì‚°ì´ ëë‚˜ê¸° ì „ì— `result`ì˜ ê²°ê³¼ë¥¼ ì¡°íšŒí•œ ê²ƒì´ë‹¤. ë”°ë¼ì„œ `0`ê°’ì´ ì¶œë ¥ëœë‹¤.

![image4](./assets/04.png)

- 2ì´ˆê°€ ì§€ë‚œ ì´í›„ì— `thread-1`, `thread-2`ëŠ” ê³„ì‚°ì„ ì™„ë£Œí•œë‹¤.
- ì´ë•Œ `main` ìŠ¤ë ˆë“œëŠ” ì´ë¯¸ ìì‹ ì˜ ì½”ë“œë¥¼ ëª¨ë‘ ì‹¤í–‰í•˜ê³  ì¢…ë£Œëœ ìƒíƒœì´ë‹¤.
- ê·¸ í›„ì— ê° ìŠ¤ë ˆë“œì˜ ê³„ì‚° ê°’ì´ ê³„ì‚°ëœë‹¤.

ì—¬ê¸°ì„œ ë¬¸ì œì˜ í•µì‹¬ì€ `main` ìŠ¤ë ˆë“œê°€ `thread-1`, `thread-2`ì˜ ê³„ì‚°ì´ ëë‚  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤. ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ì•¼ `main` ìŠ¤ë ˆë“œê°€ ê¸°ë‹¤ë¦´ ìˆ˜ ìˆì„ê¹Œ?

> âœ… ì°¸ê³ : thisì˜ ë¹„ë°€
>
> ì–´ë–¤ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€, ì •í™•íˆëŠ” íŠ¹ì • ìŠ¤ë ˆë“œê°€ ì–´ë–¤ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤. ìŠ¤ë ˆë“œëŠ” ë©”ì„œë“œì˜ í˜¸ì¶œì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë©”ì„œë“œ ë‹¨ìœ„ë¡œ ìŠ¤íƒ í”„ë ˆì„ì„ ë§Œë“¤ê³  í•´ë‹¹ ìŠ¤íƒ í”„ë ˆì„ì„ ìŠ¤íƒìœ„ì— ìŒ“ì•„ ì˜¬ë¦°ë‹¤. ì´ë•Œ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´, ì–´ë–¤ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆëŠ”ì§€ ê¸°ì–µí•˜ê¸° ìœ„í•´, í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡°ê°’ì„ ìŠ¤íƒ í”„ë ˆì„ ë‚´ë¶€ì— ì €ì¥í•´ë‘”ë‹¤. ì´ê²ƒì´ ë°”ë¡œ ìš°ë¦¬ê°€ ìì£¼ ì‚¬ìš©í•˜ë˜ `this`ì´ë‹¤. íŠ¹ì • ë©”ì„œë“œ ì•ˆì—ì„œ `this`ë¥¼ í˜¸ì¶œí•˜ë©´ ë°”ë¡œ ìŠ¤íƒí”„ë ˆì„ ì•ˆì— ìˆëŠ” `this` ê°’ì„ ë¶ˆëŸ¬ì„œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ê·¸ë¦¼ì„ ë³´ë©´ ìŠ¤íƒ í”„ë ˆì„ ì•ˆì— ìˆëŠ” `this`ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ `this`ê°€ ìˆê¸° ë•Œë¬¸ì— `thread-1`, `thread-2`ëŠ” ìì‹ ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ë¶„í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## join - sleep ì‚¬ìš©

íŠ¹ì • ìŠ¤ë ˆë“œë¥¼ ê¸°ë‹¤ë¦¬ê²Œ í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ `sleep()`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

``` java
package thread.control.join;

import static util.MyLogger.log;
import static util.ThreadUtils.sleep;

public class JoinMainV2 {
    public static void main(String[] args) {
        log("Start");

        SumTask task1 = new SumTask(1, 50);
        SumTask task2 = new SumTask(51, 100);

        Thread thread1 = new Thread(task1, "thread-1");
        Thread thread2 = new Thread(task2, "thread-2");

        thread1.start();
        thread2.start();

        log("main ìŠ¤ë ˆë“œ sleep()");
        sleep(3000);
        log("main ìŠ¤ë ˆë“œ ê¹¨ì–´ë‚¨");

        log("task1.result = " + task1.result);
        log("task2.result = " + task2.result);

        int sumAll = task1.result + task2.result;

        log("task1 + task2 = " + sumAll);
        log("End");
    }

    static class SumTask implements Runnable {

        int startValue;

        int endValue;

        int result;

        public SumTask(int startValue, int endValue) {
            this.startValue = startValue;
            this.endValue = endValue;
        }

        @Override
        public void run() {
            log("ì‘ì—… ì‹œì‘");
            sleep(2000);

            int sum = 0;

            for (int i = startValue; i <= endValue; i++) {
                sum += i;
            }

            result = sum;

            log("ì‘ì—… ì™„ë£Œ result = " + result);
        }
    }
}
```

ì´ë ‡ê²Œ í•˜ë‹ˆ ê²°ê³¼ê°€ ì˜ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì´ë ‡ê²Œ `sleep()`ì„ ì‚¬ìš©í•´ì„œ ë¬´ì‘ì • ê¸°ë‹¤ë¦¬ëŠ” ë°©ë²•ì€ ëŒ€ê¸° ì‹œê°„ì— ì†í•´ë„ ë³´ê³ , ë˜ `thread-1`,`thread-2` ì˜ ìˆ˜í–‰ì‹œê°„ì´ ë‹¬ë¼ì§€ëŠ” ê²½ìš°ì—ëŠ” ì •í™•í•œ íƒ€ì´ë°ì„ ë§ì¶”ê¸° ì–´ë µë‹¤. ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?

## join - join ì‚¬ìš©

ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ `join()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. í•œë²ˆ ì‚´í´ë³´ì.

``` java
package thread.control.join;

import static util.MyLogger.log;
import static util.ThreadUtils.sleep;

public class JoinMainV3 {
    public static void main(String[] args) throws InterruptedException {
        log("Start");

        SumTask task1 = new SumTask(1, 50);
        SumTask task2 = new SumTask(51, 100);

        Thread thread1 = new Thread(task1, "thread-1");
        Thread thread2 = new Thread(task2, "thread-2");

        thread1.start();
        thread2.start();

        log("join() - main ìŠ¤ë ˆë“œê°€ thread1, thread2 ì¢…ë£Œê¹Œì§€ ëŒ€ê¸°");
        thread1.join();
        thread2.join();
        log("main ìŠ¤ë ˆë“œ ëŒ€ê¸° ì™„ë£Œ");

        log("task1.result = " + task1.result);
        log("task2.result = " + task2.result);

        int sumAll = task1.result + task2.result;

        log("task1 + task2 = " + sumAll);
        log("End");
    }

    static class SumTask implements Runnable {

        int startValue;

        int endValue;

        int result;

        public SumTask(int startValue, int endValue) {
            this.startValue = startValue;
            this.endValue = endValue;
        }

        @Override
        public void run() {
            log("ì‘ì—… ì‹œì‘");
            sleep(2000);

            int sum = 0;

            for (int i = startValue; i <= endValue; i++) {
                sum += i;
            }

            result = sum;

            log("ì‘ì—… ì™„ë£Œ result = " + result);
        }
    }
}
```

`join()` ë©”ì„œë“œë¥¼ ë§Œë‚˜ë©´ `main` ìŠ¤ë ˆë“œëŠ” ëŒ€ìƒ ìŠ¤ë ˆë“œì˜ ìƒíƒœê°€ ì¢…ë£Œê°€ ë  ë•Œê¹Œì§€ `WAITING` ìƒíƒœì— ë¹ ì§„ë‹¤. ê·¸ë˜ì„œ ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´ ì •í™•í•˜ê²Œ 1ë¶€í„° 100ê¹Œì§€ì˜ ê³„ì‚°ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ `join()` ë©”ì„œë“œì˜ ë‹¨ì ì´ ì¡´ì¬í•œë‹¤. ë°”ë¡œ ë¬´ê¸°í•œ ëŒ€ê¸°ë¥¼ í•´ì•¼í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ë§Œì•½ ëŒ€ìƒ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì˜ëª» ì‘ì„±ë˜ì–´ ë¬´í•œë£¨í”„ì— ë¹ ì§„ë‹¤ë©´ `main` ìŠ¤ë ˆë“œëŠ” í‰ìƒ ë†€ ê²ƒì´ë‹¤. ì´ëŸ° ì ì„ ì–´ë–»ê²Œ í•´ê²°í•´ ë³¼ ìˆ˜ ìˆì„ê¹Œ?

## join - íŠ¹ì • ì‹œê°„ ë§Œí¼ë§Œ ëŒ€ê¸°

`join()`ì€ ë‘ ê°€ì§€ ë©”ì„œë“œê°€ ìˆë‹¤.

- `join()` : í˜¸ì¶œ ìŠ¤ë ˆë“œëŠ” ëŒ€ìƒ ìŠ¤ë ˆë“œê°€ ì™„ë£Œë  ë•Œ ê¹Œì§€ ë¬´í•œì • ëŒ€ê¸°í•œë‹¤.
- `join(ms)` : í˜¸ì¶œ ìŠ¤ë ˆë“œëŠ” íŠ¹ì • ì‹œê°„ ë§Œí¼ë§Œ ëŒ€ê¸°í•œë‹¤. í˜¸ì¶œ ìŠ¤ë ˆë“œëŠ” ì§€ì •í•œ ì‹œê°„ì´ ì§€ë‚˜ë©´ ë‹¤ì‹œ `RUNNABLE` ìƒíƒœê°€ ë˜ë©´ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ìˆ˜í–‰í•œë‹¤.

ê·¸ë ˆì„œ ìœ„ì˜ ë¬´í•œ ëŒ€ê¸° ë¬¸ì œë¥¼ `join(ms)`ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ì‹œê°„ë§Œí¼ ëŒ€ê¸°ìƒíƒœê°€ ëœë‹¤. ì •í™•íˆëŠ” `TIMED_WAITING` ìƒíƒœê°€ ë˜ëŠ” ê²ƒì´ë‹¤.

> ì˜ëª»ëœ ì§€ì‹ì´ ìˆì„ ê²½ìš° ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ë¹ ë¥´ê²Œ ë°˜ì˜í•˜ê² ìŠµë‹ˆë‹¤!