---
title: "[99클럽] 면접반 5일차"
tags:
  - 면접
image: ./assets/banner.png
date: 2025-04-15 09:43:27
series: 면접
draft: false
---

![배너 이미지](./assets/banner.png)

> 📖 질문
>
> API 설계와 버전 관리 전략
>
> API를 설계하거나 운영하면서, 일관성을 유지하고 변경을 관리하기 위해 어떤 전략을 사용했는지 설명해 주세요. (버전 관리, 응답 포맷 설계, 호환성 유지 방식 등을 중심으로)
>
> 힌트: 실무에서는 API가 한 번 공개되면 쉽게 바꿀 수 없습니다. 이 질문은 "처음부터 바뀔 수 있음을 고려하고 설계했는가"를 묻는 것입니다. URI 버전 관리, 응답 포맷 고정, Deprecation 정책 같은 구체적인 조치가 있다면 강력한 답변이 됩니다.

## 답변

안녕하세요. API를 설계하고 운영하면서 일관성과 변경 관리를 위해 제가 실제 프로젝트에서 적용했던 전략에 대해 말씀드리겠습니다.

회의실 예약 시스템 개발 프로젝트에서 API 설계와 운영에 중점을 두었던 경험이 있습니다. 처음부터 변경 가능성을 고려하여 다음과 같은 전략을 사용했습니다.

### API 버전 관리

- URI 기반 버전 관리를 적용하였습니다. `/api/v1/reservations`, `/api/v2/reservations`형태로 관리를 하였습니다.

- 메이저 변경은 버전을 올리고 마이너 변경은 하위 호환성 원칙을 유지하는 원칙을 세웠습니다.

- 새 버전 출시 시 최소 3개월의 마이그레이션 기간을 두어 클라이언트가 적응할 시간을 확보하는데 중점을 두었습니다.

### 응답 포맷 설계

- Spring HATEOAS를 활용하여 응답 포맷을 표준화하였습니다.

- JSON 응답에 `data`, `links`, `meta` 섹션을 분리해 확장성을 확보했습니다.

- 필드 추가는 허용하되, 기존 필드 제거나 변경은 버전 증가 없이 하지 않는 원칙을 적용했습니다.

### 문서화

- Spring Rest Docs를 통하여 테스트와 문서를 함께 관리하고 항상 최신 상태를 유지하였습니다.

- 변경 예정 API에 대해 `Deprecated`헤더를 포함하고, 대체 API 정보를 제공했습니다.

- 문서에 변경 이력과 마이그레이션 가이드를 포함시켜 클라이언트 개발자들의 이해를 도왔습니다.

### 확장성을 고려한 설계

- 쿼리 파라미터로 응답에 포함될 필드를 선택할 수 있는 `fileds`파라미터를 지원했습니다.

- 페이징, 정렬, 필터링등의 공통 기능을 일관된 방식으로 제공했습니다.

- 기본 값을 명확히 문서화하여 추후 동작 방식이 바뀌지 않도록 했습니다.

### 테스트 자동화

- API 계약 테스트를 통해 비의도적 변경을 방지했습니다.

- 회의실 예약 시스템에서는 테스트 커버리지 **100%**를 달성하여 변경 시 안정성을 확보했습니다.

실제로 통합인증 시스템 개발 시에는 이전 시스템과의 호환성을 유지하면서 JWT 기반으로 전환하는 과정에서 일정 기간 동안 두 방식을 모두 지원하는 전략을 사용하였습니다. 클라이언트에게 충분한 마이그레이션 기간을 제공하고 단계적으로 구버전 API를 deprecated 처리하여 혼란을 최소화했습니다.

이러한 전략들이 실제 프로젝트에서 API 변경으로 인한 혼란을 줄이고 클라이언트와 서버 간의 원활한 통합을 가능하게 하였습니다.