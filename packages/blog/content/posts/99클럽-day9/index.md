---
title: "[99클럽] 면접반 9일차"
tags:
  - 면접
image: ./assets/banner.png
date: 2025-04-21 10:06:27
series: 면접
draft: false
---

![배너 이미지](./assets/banner.png)

> 📖 질문
>
> 테스트 코드 작성 또는 TDD 경험
>
> 테스트 코드나 TDD 관점을 염두에 두고 개발 구조를 설계하거나 구현한 경험이 있다면 공유해 주세요. 꼭 완전한 테스트 주도 개발이 아니더라도, 테스트 가능성을 높이기 위해 고민했던 방식이 있다면 좋습니다.
>
> 힌트: 이 질문은 “TDD를 완벽하게 했는가”보다, 코드를 테스트하기 쉽게 만들기 위해 어떤 구조나 습관을 가졌는지를 보고자 합니다. 로직 분리, 의존성 주입, 인터페이스 추상화 같은 작은 실천도 강력한 답이 될 수 있습니다.

## 답변

테스트 가능한 구조를 염두에 두고 개발한 경험이 있습니다. 특히 사내 회의실 예약 시스템을 개발을 할 때 **테스트 커버리지 100%**를 달성하면서 여러가지 고민을 했습니다.

### 비즈니스 로직 계층 분리

- 회의실 예약 로직을 서비스 계층으로 분리하여 단위 테스트가 용이하도록 설계 했습니다.
- 컨트롤러는 요청 검증과 응답처리에만 집중하고, 비즈니스 로직은 서비스 계층에서 처리했습니다.

### 의존성 주입을 통한 테스트 용이성 확보

- Spring의 DI를 활용하여 외부 의존성을 주입받도록 구현했습니다. 예를들어, 인증 메일 전송 기능을 인터페이스로 추상화하고 테스트 시에는 Mock 객체를 주입하여 테스트 코드를 작성했습니다.

### 동시성 문제 테스트를 위한 구조화

- 비관적 락 적용 부분을 별도의 메서드로 분리하여 동시성 테스트가 가능하도록 하였습니다.
- 멀티스레드 환경을 시뮬레이션 하는 테스트를 작성하여 동시 예약 충돌 방지 기능을 검증했습니다.

### 테스트 가능한 문서화

- Spring Rest Docs를 활용하여 테스트를 하면서 동시에 API 문서화도 자동으로 수행되도록 했습니다.
- REST API의 계약을 검증하는 테스트를 작성하여 API 명세와 실제 구현의 일관성을 보장했습니다.

이런 접근 방식을 통해 코드의 안정성을 높이고 SSE 같은 복잡한 기능도 안전하게 구현할 수 있었고, 결과적으로 100%의 테스트 커버리지를 달성하면서도 실질적으로 유의미한 테스트를 작성할 수 있었고, 이는 안정적인 서비스 운영으로 이어졌습니다.